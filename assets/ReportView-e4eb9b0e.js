import{w as $,a1 as O,a9 as h,Q as k,R as S,z as T,a2 as m,B as e,a7 as l,a8 as d,J as v,K as t,C as o,I as _,ai as B,Z as I,L,M as W,U as M}from"./index-3a2fba24.js";const N=r=>(L("data-v-d7a23a23"),r=r(),W(),r),z={key:0,class:"report"},F={class:"dayName"},U={class:"shifts"},b={class:"dayShift"},E={class:"shiftName"},H=["onClick"],J={key:0,class:"userScans"},K=N(()=>o("md-divider",null,null,-1)),P=$({__name:"ReportView",setup(r){var y;const w=O(),C=h(k(S,`/users/${(y=w.value)==null?void 0:y.uid}`)),p=x(),f=h(k(S,`/reports/${p.getDate()}-${p.getMonth()}-${p.getFullYear()}`),{once:!0}),c=T([]);function x(){const s=new Date,u=(s.getDay()+6)%7,a=new Date(s);return a.setDate(s.getDate()-u),a.setHours(0,0,0,0),a}function R(s){const i=c.value.indexOf(s);i!=-1?delete c.value[i]:c.value.push(s)}const V=["lunedì","martedì","mercoledì","giovedì","venerdì"];return(s,i)=>{var u;return((u=m(C))==null?void 0:u.role)==="scanner"?(t(),e("div",z,[(t(),e(l,null,d(V,(a,Q)=>o("div",{class:"reportDay",key:a},[o("div",F,_(a),1),o("div",U,[m(f)?(t(),e(l,{key:0},d(["morning","afternoon"],g=>o("div",b,[o("div",E,_(g==="afternoon"?"Pomeriggio":"Mattina"),1),(t(!0),e(l,null,d(m(f)[a][g],n=>(t(),e("div",{class:B({userReport:!0,[`${n.status.toLowerCase()}-style`]:!0}),key:n.username,onClick:D=>R(n.username)},[I(_(n.username)+" ",1),c.value.includes(n.username)?(t(),e("div",J,[o("ul",null,[(t(!0),e(l,null,d(n.scans,D=>(t(),e("li",null,_(D.timestamp.toDate().toLocaleTimeString()),1))),256))])])):v("",!0)],10,H))),128)),K])),64)):v("",!0)])])),64))])):v("",!0)}}});const Z=M(P,[["__scopeId","data-v-d7a23a23"]]);export{Z as default};
