import{X as B,x as U,a as V,Y as O,_ as M,e as D,j as f,Z as L,m as d,p as n,$ as R,a0 as z,B as r,y as g,C as I,F as j,M as w,U as T,a1 as F,J as N,K as x,u as E,a2 as Y,a3 as A,V as _,a4 as H,z as y,a5 as J}from"./index-f536cdf1.js";import"./filled-button-b974c062.js";/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class K extends B{renderOutline(){return U`<span class="button__outline"></span>`}}/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */const X=V`:host{--_container-height: var(--md-outlined-button-container-height, 40px);--_container-shape: var(--md-outlined-button-container-shape, 9999px);--_disabled-label-text-color: var(--md-outlined-button-disabled-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-label-text-opacity: var(--md-outlined-button-disabled-label-text-opacity, 0.38);--_disabled-outline-color: var(--md-outlined-button-disabled-outline-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-outline-opacity: var(--md-outlined-button-disabled-outline-opacity, 0.12);--_focus-label-text-color: var(--md-outlined-button-focus-label-text-color, var(--md-sys-color-primary, #6750a4));--_hover-label-text-color: var(--md-outlined-button-hover-label-text-color, var(--md-sys-color-primary, #6750a4));--_hover-state-layer-color: var(--md-outlined-button-hover-state-layer-color, var(--md-sys-color-primary, #6750a4));--_hover-state-layer-opacity: var(--md-outlined-button-hover-state-layer-opacity, 0.08);--_label-text-color: var(--md-outlined-button-label-text-color, var(--md-sys-color-primary, #6750a4));--_label-text-type: var(--md-outlined-button-label-text-type, var(--md-sys-typescale-label-large, 500 0.875rem / 1.25rem var(--md-ref-typeface-plain, Roboto)));--_outline-color: var(--md-outlined-button-outline-color, var(--md-sys-color-outline, #79747e));--_outline-width: var(--md-outlined-button-outline-width, 1px);--_pressed-label-text-color: var(--md-outlined-button-pressed-label-text-color, var(--md-sys-color-primary, #6750a4));--_pressed-outline-color: var(--md-outlined-button-pressed-outline-color, var(--md-sys-color-outline, #79747e));--_pressed-state-layer-color: var(--md-outlined-button-pressed-state-layer-color, var(--md-sys-color-primary, #6750a4));--_pressed-state-layer-opacity: var(--md-outlined-button-pressed-state-layer-opacity, 0.12);--_disabled-icon-color: var(--md-outlined-button-disabled-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-icon-opacity: var(--md-outlined-button-disabled-icon-opacity, 0.38);--_focus-icon-color: var(--md-outlined-button-focus-icon-color, var(--md-sys-color-primary, #6750a4));--_hover-icon-color: var(--md-outlined-button-hover-icon-color, var(--md-sys-color-primary, #6750a4));--_icon-color: var(--md-outlined-button-icon-color, var(--md-sys-color-primary, #6750a4));--_icon-size: var(--md-outlined-button-icon-size, 18px);--_pressed-icon-color: var(--md-outlined-button-pressed-icon-color, var(--md-sys-color-primary, #6750a4));--_leading-space: var(--md-outlined-button-leading-space, 24px);--_trailing-space: var(--md-outlined-button-trailing-space, 24px);--_with-leading-icon-leading-space: var(--md-outlined-button-with-leading-icon-leading-space, 16px);--_with-leading-icon-trailing-space: var(--md-outlined-button-with-leading-icon-trailing-space, 24px);--_with-trailing-icon-leading-space: var(--md-outlined-button-with-trailing-icon-leading-space, 24px);--_with-trailing-icon-trailing-space: var(--md-outlined-button-with-trailing-icon-trailing-space, 16px);--_container-color: none;--_disabled-container-color: none;--_disabled-container-opacity: 0;--_container-shape-start-start: var( --md-outlined-button-container-shape-start-start, var(--_container-shape) );--_container-shape-start-end: var( --md-outlined-button-container-shape-start-end, var(--_container-shape) );--_container-shape-end-end: var( --md-outlined-button-container-shape-end-end, var(--_container-shape) );--_container-shape-end-start: var( --md-outlined-button-container-shape-end-start, var(--_container-shape) )}.button__outline{inset:0;border-style:solid;position:absolute;box-sizing:border-box;border-color:var(--_outline-color);border-start-start-radius:var(--_container-shape-start-start);border-start-end-radius:var(--_container-shape-start-end);border-end-start-radius:var(--_container-shape-end-start);border-end-end-radius:var(--_container-shape-end-end)}.button:active .button__outline{border-color:var(--_pressed-outline-color)}.button:disabled .button__outline{border-color:var(--_disabled-outline-color);opacity:var(--_disabled-outline-opacity)}@media(forced-colors: active){.button:disabled .button__outline{opacity:1}}.button__outline,.button__ripple{border-width:var(--_outline-width)}.button__ripple{inline-size:calc(100% - 2*var(--_outline-width));block-size:calc(100% - 2*var(--_outline-width));border-style:solid;border-color:rgba(0,0,0,0)}/*# sourceMappingURL=outlined-styles.css.map */
`;/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let h=class extends K{};h.styles=[O,X];h=M([D("md-outlined-button")],h);const Z=o=>(I("data-v-bd6c7177"),o=o(),j(),o),q={class:"tabella"},G=Z(()=>n("thead",null,[n("tr",null,[n("th",null,"Nome"),n("th",null,"Ora e data")])],-1)),P=f({__name:"ScanTable",props:{scans:{}},setup(o){const c=o;function u(t){const s=t.getDate().toString().padStart(2,"0"),l=(t.getMonth()+1).toString().padStart(2,"0"),v=t.getFullYear(),p=t.getHours().toString().padStart(2,"0"),i=t.getMinutes().toString().padStart(2,"0");return`${p}:${i} ${s}/${l}/${v}`}const m=L(()=>c.scans.sort((t,s)=>s.timestamp.toMillis()-t.timestamp.toMillis()));return(t,s)=>(r(),d("table",q,[G,n("tbody",null,[(r(!0),d(R,null,z(m.value,l=>(r(),d("tr",null,[n("td",null,g(l.username),1),n("td",null,g(u(l.timestamp.toDate())),1)]))),256))])]))}});const Q=w(P,[["__scopeId","data-v-bd6c7177"]]),W={id:"userView"},tt=f({__name:"UserView",setup(o){var p;const c=T(),u=F(N(x,`/users/${(p=c.value)==null?void 0:p.uid}`)),m=E(),t=Y(A(x,"scans"));function s(i){const b=["timestamp","actualCode","username","email"].join(","),a=i.map(e=>{const S=e.timestamp.toDate().toISOString(),{actualCode:C,username:$,email:k}=e.userRef;return`${S},${C},${$},${k}`});return[b,...a].join(`
`)}function l(){const i=s(t.value),b=new Blob([i],{type:"text/csv"}),a=URL.createObjectURL(b),e=document.createElement("a");e.href=a,e.download="data.csv",document.body.appendChild(e),e.click(),document.body.removeChild(e),URL.revokeObjectURL(a)}function v(){J(m)}return(i,b)=>{var a,e;return r(),d("div",W,[((a=_(u))==null?void 0:a.role)==="scanner"?(r(),H(Q,{key:0,scans:_(t),class:"adminTable"},null,8,["scans"])):y("",!0),((e=_(u))==null?void 0:e.role)==="scanner"?(r(),d("md-outlined-button",{key:1,class:"downloadBtn",onClick:l}," Scarica CSV ")):y("",!0),_(c)?(r(),d("md-filled-button",{key:2,class:"logoutBtn",onClick:v}," Logout ")):y("",!0)])}}});const nt=w(tt,[["__scopeId","data-v-9de973a1"]]);export{nt as default};
