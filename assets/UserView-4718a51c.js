import{a4 as U,x as z,a as D,a5 as I,_ as L,e as M,w as x,a6 as R,B as c,C as d,a7 as w,a8 as T,K as a,I as f,L as j,M as E,U as S,a9 as k,Q as C,R as y,aa as F,ab as N,ac as Q,ad as q,ae as A,a2 as n,af as h,J as _,a1 as G,y as H,ag as J}from"./index-2c564a79.js";import"./filled-button-56d0e939.js";import K from"./ScheduleView-92ae89a5.js";/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Y extends U{renderElevationOrOutline(){return z`<div class="outline"></div>`}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const P=D`:host{--_container-height: var(--md-outlined-button-container-height, 40px);--_disabled-label-text-color: var(--md-outlined-button-disabled-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-label-text-opacity: var(--md-outlined-button-disabled-label-text-opacity, 0.38);--_disabled-outline-color: var(--md-outlined-button-disabled-outline-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-outline-opacity: var(--md-outlined-button-disabled-outline-opacity, 0.12);--_focus-label-text-color: var(--md-outlined-button-focus-label-text-color, var(--md-sys-color-primary, #6750a4));--_hover-label-text-color: var(--md-outlined-button-hover-label-text-color, var(--md-sys-color-primary, #6750a4));--_hover-state-layer-color: var(--md-outlined-button-hover-state-layer-color, var(--md-sys-color-primary, #6750a4));--_hover-state-layer-opacity: var(--md-outlined-button-hover-state-layer-opacity, 0.08);--_label-text-color: var(--md-outlined-button-label-text-color, var(--md-sys-color-primary, #6750a4));--_label-text-font: var(--md-outlined-button-label-text-font, var(--md-sys-typescale-label-large-font, var(--md-ref-typeface-plain, Roboto)));--_label-text-line-height: var(--md-outlined-button-label-text-line-height, var(--md-sys-typescale-label-large-line-height, 1.25rem));--_label-text-size: var(--md-outlined-button-label-text-size, var(--md-sys-typescale-label-large-size, 0.875rem));--_label-text-weight: var(--md-outlined-button-label-text-weight, var(--md-sys-typescale-label-large-weight, var(--md-ref-typeface-weight-medium, 500)));--_outline-color: var(--md-outlined-button-outline-color, var(--md-sys-color-outline, #79747e));--_outline-width: var(--md-outlined-button-outline-width, 1px);--_pressed-label-text-color: var(--md-outlined-button-pressed-label-text-color, var(--md-sys-color-primary, #6750a4));--_pressed-outline-color: var(--md-outlined-button-pressed-outline-color, var(--md-sys-color-outline, #79747e));--_pressed-state-layer-color: var(--md-outlined-button-pressed-state-layer-color, var(--md-sys-color-primary, #6750a4));--_pressed-state-layer-opacity: var(--md-outlined-button-pressed-state-layer-opacity, 0.12);--_disabled-icon-color: var(--md-outlined-button-disabled-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-icon-opacity: var(--md-outlined-button-disabled-icon-opacity, 0.38);--_focus-icon-color: var(--md-outlined-button-focus-icon-color, var(--md-sys-color-primary, #6750a4));--_hover-icon-color: var(--md-outlined-button-hover-icon-color, var(--md-sys-color-primary, #6750a4));--_icon-color: var(--md-outlined-button-icon-color, var(--md-sys-color-primary, #6750a4));--_icon-size: var(--md-outlined-button-icon-size, 18px);--_pressed-icon-color: var(--md-outlined-button-pressed-icon-color, var(--md-sys-color-primary, #6750a4));--_container-shape-start-start: var(--md-outlined-button-container-shape-start-start, var(--md-outlined-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_container-shape-start-end: var(--md-outlined-button-container-shape-start-end, var(--md-outlined-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_container-shape-end-end: var(--md-outlined-button-container-shape-end-end, var(--md-outlined-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_container-shape-end-start: var(--md-outlined-button-container-shape-end-start, var(--md-outlined-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_leading-space: var(--md-outlined-button-leading-space, 24px);--_trailing-space: var(--md-outlined-button-trailing-space, 24px);--_with-leading-icon-leading-space: var(--md-outlined-button-with-leading-icon-leading-space, 16px);--_with-leading-icon-trailing-space: var(--md-outlined-button-with-leading-icon-trailing-space, 24px);--_with-trailing-icon-leading-space: var(--md-outlined-button-with-trailing-icon-leading-space, 24px);--_with-trailing-icon-trailing-space: var(--md-outlined-button-with-trailing-icon-trailing-space, 16px);--_container-color: none;--_disabled-container-color: none;--_disabled-container-opacity: 0}.outline{inset:0;border-style:solid;position:absolute;box-sizing:border-box;border-color:var(--_outline-color);border-start-start-radius:var(--_container-shape-start-start);border-start-end-radius:var(--_container-shape-start-end);border-end-start-radius:var(--_container-shape-end-start);border-end-end-radius:var(--_container-shape-end-end)}:host(:active) .outline{border-color:var(--_pressed-outline-color)}:host([disabled]) .outline{border-color:var(--_disabled-outline-color);opacity:var(--_disabled-outline-opacity)}@media(forced-colors: active){:host([disabled]) .background{border-color:GrayText}:host([disabled]) .outline{opacity:1}}.outline,md-ripple{border-width:var(--_outline-width)}md-ripple{inline-size:calc(100% - 2*var(--_outline-width));block-size:calc(100% - 2*var(--_outline-width));border-style:solid;border-color:rgba(0,0,0,0)}
`;/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let g=class extends Y{};g.styles=[I,P];g=L([M("md-outlined-button")],g);const W=o=>(j("data-v-bd6c7177"),o=o(),E(),o),X={class:"tabella"},Z=W(()=>d("thead",null,[d("tr",null,[d("th",null,"Nome"),d("th",null,"Ora e data")])],-1)),ee=x({__name:"ScanTable",props:{scans:{}},setup(o){const u=o;function p(e){const r=e.getDate().toString().padStart(2,"0"),l=(e.getMonth()+1).toString().padStart(2,"0"),v=e.getFullYear(),m=e.getHours().toString().padStart(2,"0"),b=e.getMinutes().toString().padStart(2,"0");return`${m}:${b} ${r}/${l}/${v}`}const s=R(()=>u.scans.sort((e,r)=>r.timestamp.toMillis()-e.timestamp.toMillis()));return(e,r)=>(a(),c("table",X,[Z,d("tbody",null,[(a(!0),c(w,null,T(s.value,l=>(a(),c("tr",null,[d("td",null,f(l.username),1),d("td",null,f(p(l.timestamp.toDate())),1)]))),256))])]))}});const te=S(ee,[["__scopeId","data-v-bd6c7177"]]),oe=x({__name:"ScannerView",props:{user:{}},setup(o){var v;const p=k(C(y,`/users/${(v=o.user)==null?void 0:v.uid}`)),s=F(q(y,"scans"),Q("timestamp","desc"),N(100)),e=A(s);function r(m){const b=["timestamp","actualCode","username","email"].join(","),i=m.map(t=>{const $=t.timestamp.toDate().toISOString(),{actualCode:B,username:V,email:O}=t.userRef;return`${$},${B},${V},${O}`});return[b,...i].join(`
`)}function l(){const m=r(e.value),b=new Blob([m],{type:"text/csv"}),i=URL.createObjectURL(b),t=document.createElement("a");t.href=i,t.download="data.csv",document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(i)}return(m,b)=>{var i,t;return a(),c(w,null,[((i=n(p))==null?void 0:i.role)==="scanner"?(a(),h(te,{key:0,scans:n(e),class:"adminTable"},null,8,["scans"])):_("",!0),((t=n(p))==null?void 0:t.role)==="scanner"?(a(),c("md-outlined-button",{key:1,class:"downloadBtn",onClick:l}," Scarica CSV ")):_("",!0)],64)}}}),ae={id:"userView"},re=x({__name:"UserView",setup(o){var r;const u=G(),p=H(),s=k(C(y,`/users/${(r=u.value)==null?void 0:r.uid}`));function e(){J(p)}return(l,v)=>(a(),c("div",ae,[n(s)&&n(s).role==="scanner"?(a(),h(oe,{key:0,user:n(u)},null,8,["user"])):_("",!0),n(s)&&n(s).role==="scanned"?(a(),h(K,{key:1})):_("",!0),n(u)?(a(),c("md-filled-button",{key:2,class:"logoutBtn",onClick:e}," Logout ")):_("",!0)]))}});const de=S(re,[["__scopeId","data-v-baa78fa1"]]);export{de as default};
